{
  "name": "Room of Requirement",
  "version": "1.0.1",
  "build": {
    "dockerfile": "Dockerfile",
    "context": ".."
  },
  "workspaceFolder": "/workspaces/room-of-requirement",
  "remoteUser": "vscode",
  "remoteEnv": {
    "SHELL": "/bin/zsh",
    "HOMEBREW_NO_ANALYTICS": "1",
    "HOMEBREW_NO_AUTO_UPDATE": "1",
    "DOCKER_BUILDKIT": "1"
  },
  "mounts": [
    "source=${localEnv:HOME}${localEnv:USERPROFILE}/.ssh,target=/home/vscode/.ssh,type=bind,readonly",
    "source=ror-homebrew-cache,target=/home/linuxbrew/.cache/Homebrew,type=volume",
    "source=ror-mise-cache,target=/home/vscode/.local/share/mise,type=volume",
    "source=ror-npm-cache,target=/home/vscode/.npm,type=volume",
    "source=ror-zsh-history,target=/home/vscode/.zsh_history,type=volume",
    "source=ror-docker-data,target=/var/lib/docker,type=volume"
  ],
  "customizations": {
    "vscode": {
      "extensions": [
        "ms-azuretools.vscode-containers",
        "github.vscode-github-actions",
        "ms-python.python",
        "esbenp.prettier-vscode",
        "dbaeumer.vscode-eslint"
      ],
      "settings": {
        "terminal.integrated.defaultProfile.linux": "zsh",
        "terminal.integrated.profiles.linux": {
          "zsh": {
            "path": "/bin/zsh",
            "args": [
              "-l"
            ]
          },
          "nushell": {
            "path": "/home/linuxbrew/.linuxbrew/bin/nu",
            "args": [
              "-l"
            ]
          }
        },
        "editor.defaultFormatter": null,
        "editor.formatOnSave": true
      }
    }
  },
  "features": {
    "ghcr.io/joshyorko/devcontainer-features/mise:1": {
      "defaultTools": "node@lts,python@latest,go@latest"
    },
    "ghcr.io/joshyorko/devcontainer-features/starship:1": {},
    "ghcr.io/joshyorko/devcontainer-features/zoxide:1": {},
    "ghcr.io/joshyorko/devcontainer-features/nushell:1": {},
    "ghcr.io/joshyorko/devcontainer-features/ror-specialty:1": {}
  },
  "privileged": true,
  "overrideCommand": false,
  "runArgs": [
    "--privileged"
  ],
  "postCreateCommand": "cp /tmp/.zshrc-ror ~/.zshrc 2>/dev/null || true; bash /usr/local/bin/devcontainer-post-create.sh || bash .devcontainer/post-create.sh 2>/dev/null || true",
  "postStartCommand": "if ! docker info > /dev/null 2>&1; then sudo sh -c 'nohup /usr/bin/dockerd-entrypoint.sh dockerd > /tmp/docker-init.log 2>&1 &' && sleep 5; fi",
  "waitFor": "onCreateCommand"
}
