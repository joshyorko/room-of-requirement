# Starship prompt configuration for Room of Requirement containers
# Optimized for container environments with minimal module overhead
# Renders in <100ms with Nerd Font symbols

# Prompt format: status - directory - git info - cmd duration - exit code
format = """
$status\
$directory\
$git_branch\
$git_status\
$cmd_duration\
$line_break\
$character """

add_newline = false

# Exit code character
[character]
success_symbol = "[âœ](bold green)"
error_symbol = "[âœ](bold red)"

# Exit status from last command
[status]
format = "[\\[$symbol$common_meaning$signal_name$maybe_int\\]]($style) "
success_symbol = ""
not_executable_symbol = "ğŸš«"
not_found_symbol = "ğŸ”"
sigint_symbol = "âš¡"
signal_symbol = "âš¡"
style = "bold red"
map_symbol = true
disabled = false

# Working directory
[directory]
style = "bold cyan"
truncation_length = 3
truncate_to_repo = true
format = "[$path]($style) "

[directory.substitutions]
"Documents" = "ó°ˆ™ "
"Downloads" = " "
"Music" = " "
"Pictures" = " "

# Git branch
[git_branch]
symbol = "ğŸŒ± "
truncation_length = 20
truncation_symbol = "â€¦"
format = "on [$symbol$branch]($style) "
style = "bold purple"

# Git status
[git_status]
format = "([\\[$all_status$ahead_behind\\]]($style) )"
style = "bold red"
ahead = "â‡¡${count}"
diverged = "â‡•â‡¡${ahead_count}â‡£${behind_count}"
behind = "â‡£${count}"

# Command duration - show if >500ms
[cmd_duration]
min_time = 500
format = "took [$duration]($style) "
style = "bold yellow"

# Language toolchain indicators
[nodejs]
symbol = "â¬¢ "
style = "bold green"
detect_extensions = ["js", "mjs", "cjs", "ts"]
detect_files = ["package.json", ".node-version"]

[python]
symbol = "ğŸ "
style = "yellow bold"
detect_extensions = ["py"]
detect_files = [".python-version", "Pipfile", "__pycache__", ".mise.toml"]

[rust]
symbol = "ğŸ¦€ "
style = "bold red"
detect_extensions = ["rs"]
detect_files = ["Cargo.toml"]

[golang]
symbol = "ğŸ¹ "
style = "bold cyan"
detect_extensions = ["go"]
detect_files = ["go.mod", "go.sum"]

[shell]
fish_indicator = "ğŸ "
powershell_indicator = "_"
bash_indicator = "bsh"
zsh_indicator = "zsh"
unknown_indicator = "?"
style = "cyan bold"
disabled = false
format = "[$indicator]($style) "

[username]
format = "[$user]($style) "
style_root = "red bold"
style_user = "white bold"
show_always = false

[hostname]
ssh_only = true
ssh_symbol = "ğŸŒ "
format = "on [$hostname]($style) "
style = "bold dimmed white"

# Disable container-specific modules (not useful in container context)
[container]
disabled = true

[docker_context]
disabled = true
